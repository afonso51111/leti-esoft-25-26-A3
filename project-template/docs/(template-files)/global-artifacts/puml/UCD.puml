@startuml
' Modelo de Domínio Corrigido (US06)
' Baseado em LETI-ESOFT25-26-ProjectAssignment.pdf e Glossário.
' Todos os artefactos devem estar em Inglês

skinparam classAttributeIconSize 0
hide empty members
title Domain Model - PVMS

' --- Classes de Papéis (Roles) ---
abstract class "Personnel" {
    ID
    name
    postalAddress
    phoneNumber
    email
}

class "Receptionist" extends "Personnel" {}

class "Nurse" extends "Personnel" {}

class "SNSUser" {
    name
    dateOfBirth
    sex
    postalAddress
    phoneNumber
    email
    citizenCardNumber
    snsUserNumber
}

class "DGSAdministrator" {}

' --- Classes de Locais (Places) ---
abstract class "VaccinationCenter" {
    name
    postalAddress
    phoneNumber
    email
    website
    openingHours
    closingHours
    maxVaccinesPerHour
}

class "HealthcareCenter" extends "VaccinationCenter" {
    ' Can administer various vaccine types
}

class "CommunityMassVaccinationCenter" extends "VaccinationCenter" {
    ' Administers a single vaccine type
}

' --- Classes de Transações e Eventos ---
class "Appointment" {
    date
    time
    status (e.g., Scheduled, Arrived, Completed)
}

class "VaccinationEvent" {
    lotNumber
    administrationTimestamp
}

class "AdverseReaction" {
    description
    registrationTimestamp
}

' --- Classes de Documentos e Descrições ---
class "VaccinationCertificate" {}

class "VaccineType" {
    code
    disease
    shortDescription
}

class "Vaccine" {
    commercialName
    brand
}

class "VaccineTechnology" {
    ' e.g., Messenger RNA, Viral Vector
}

' ---------- Relações (Associations) ----------

' Relações de Agendamento (Appointment)
SNSUser "1" -- "0..*" Appointment : "schedules"
Receptionist "0..*" -- "0..*" Appointment : "schedules (in-person)"
Receptionist "1" -- "0..*" Appointment : "registers arrival for"
VaccinationCenter "1" -- "0..*" Appointment : "occurs at"
Appointment "1" -- "1" VaccineType : "is for"

' Relações de Eventos (Event)
Appointment "1" -- "0..1" VaccinationEvent : "results in"
VaccinationEvent "0..*" -- "1" Nurse : "recorded by"
VaccinationEvent "1" -- "1" Vaccine : "uses (brand)"
VaccinationEvent "1" -- "1" VaccineType : "is for (type)"
VaccinationEvent "1" -- "0..*" AdverseReaction : "can cause"
AdverseReaction "0..*" -- "1" Nurse : "recorded by"

' Relações de Vacinas (Vaccine)
Vaccine "0..*" -- "1" VaccineType : "is of"
Vaccine "0..*" -- "1" VaccineTechnology : "uses"
HealthcareCenter "1" -- "1..*" VaccineType : "administers"
CommunityMassVaccinationCenter "1" -- "1" VaccineType : "administers"

' Relações de Certificados (Certificate)
VaccinationCertificate "0..*" -- "1" SNSUser : "obtained by"
VaccinationCertificate "0..*" -- "1" Nurse : "issued by (on-site)"

' Relações de Gestão (Admin)
DGSAdministrator "1" -- "0..*" VaccinationCenter : "manages/registers"
DGSAdministrator "1" -- "0..*" Personnel : "manages/registers"
DGSAdministrator "1" -- "0..*" Vaccine : "manages/registers"
DGSAdministrator "1" -- "0..*" VaccineType : "manages/registers"

@enduml
